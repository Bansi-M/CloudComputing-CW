<!DOCTYPE html>
<html>
  <head>
    <title>Profile Page</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <link href="resources/css/axure_rp_page.css" type="text/css" rel="stylesheet"/>
    <link href="data/styles.css" type="text/css" rel="stylesheet"/>
    <link href="files/profile_page/styles.css" type="text/css" rel="stylesheet"/>
    <script src="resources/scripts/jquery-3.2.1.min.js"></script>
    <script src="resources/scripts/axure/axQuery.js"></script>
    <script src="resources/scripts/axure/globals.js"></script>
    <script src="resources/scripts/axutils.js"></script>
    <script src="resources/scripts/axure/annotation.js"></script>
    <script src="resources/scripts/axure/axQuery.std.js"></script>
    <script src="resources/scripts/axure/doc.js"></script>
    <script src="resources/scripts/messagecenter.js"></script>
    <script src="resources/scripts/axure/events.js"></script>
    <script src="resources/scripts/axure/recording.js"></script>
    <script src="resources/scripts/axure/action.js"></script>
    <script src="resources/scripts/axure/expr.js"></script>
    <script src="resources/scripts/axure/geometry.js"></script>
    <script src="resources/scripts/axure/flyout.js"></script>
    <script src="resources/scripts/axure/model.js"></script>
    <script src="resources/scripts/axure/repeater.js"></script>
    <script src="resources/scripts/axure/sto.js"></script>
    <script src="resources/scripts/axure/utils.temp.js"></script>
    <script src="resources/scripts/axure/variables.js"></script>
    <script src="resources/scripts/axure/drag.js"></script>
    <script src="resources/scripts/axure/move.js"></script>
    <script src="resources/scripts/axure/visibility.js"></script>
    <script src="resources/scripts/axure/style.js"></script>
    <script src="resources/scripts/axure/adaptive.js"></script>
    <script src="resources/scripts/axure/tree.js"></script>
    <script src="resources/scripts/axure/init.temp.js"></script>
    <script src="resources/scripts/axure/legacy.js"></script>
    <script src="resources/scripts/axure/viewer.js"></script>
    <script src="resources/scripts/axure/math.js"></script>
    <script src="resources/scripts/axure/jquery.nicescroll.min.js"></script>
    <script src="data/document.js"></script>
    <script src="files/profile_page/data.js"></script>
    <script type="text/javascript">
      $axure.utils.getTransparentGifPath = function() { return 'resources/images/transparent.gif'; };
      $axure.utils.getOtherPath = function() { return 'resources/Other.html'; };
      $axure.utils.getReloadPath = function() { return 'resources/reload.html'; };
    </script>
  </head>
  <body>
    <div id="base" class="">

      <!-- Unnamed (Dynamic Panel) -->
      <div id="u290" class="ax_default">
        <div id="u290_state0" class="panel_state" data-label="State 1" style="">
          <div id="u290_state0_content" class="panel_state_content">

            <!-- Navigation bar for logged in (Group) -->
            <div id="u291" class="ax_default" data-label="Navigation bar for logged in" data-left="19" data-top="0" data-width="1910" data-height="64">

              <!-- Unnamed (Group) -->
              <div id="u292" class="ax_default" data-left="19" data-top="0" data-width="1910" data-height="64">

                <!-- Unnamed (Group) -->
                <div id="u293" class="ax_default" data-left="19" data-top="0" data-width="1910" data-height="64">

                  <!-- Unnamed (Rectangle) -->
                  <div id="u294" class="ax_default box_1">
                    <img id="u294_img" class="img " src="images/home/u31.svg"/>
                    <div id="u294_text" class="text " style="display:none; visibility: hidden">
                      <p></p>
                    </div>
                  </div>

                  <!-- Unnamed (Shape) -->
                  <div id="u295" class="ax_default primary_button">
                    <img id="u295_img" class="img " src="images/home/nav_login_button_u33.svg"/>
                    <div id="u295_text" class="text ">
                      <p id="signOut"><span>SIGN OUT</span></p>
                    </div>
                  </div>

                  <!-- noodles (Image) -->
                  <div id="u296" class="ax_default image" data-label="noodles">
                    <img id="u296_img" class="img " src="images/home/noodles_u34.svg"/>
                    <div id="u296_text" class="text " style="display:none; visibility: hidden">
                      <p></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recipe panel (Group) -->
      <div id="u297" class="ax_default" data-label="Recipe panel" data-left="105" data-top="90" data-width="1156" data-height="198">

        <!-- Unnamed (Rectangle) -->
        <div id="u298" class="ax_default box_1">
          <div id="u298_div" class=""></div>
          <div id="u298_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>

        <!-- Unnamed (Text Field) -->
        <div id="u299"style="width:280px" class="ax_default text_field">
          <div id="u299_div" style="width:280px" class=""></div>
          <input id="u299_input" type="text"style="width:280px" value="username" class="u299_input"/>
        </div>

        <!-- Unnamed (Ellipse) -->
        <div id="u300" class="ax_default ellipse">
          <img id="u300_img" class="img " src="images/profile_page/u300.svg"/>
          <div id="u300_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>

        <!-- Unnamed (Image) -->
        <div id="u301" class="ax_default image">
          <img id="u301_img" class="img " src="images/profile_page/u301.svg"/>
          <div id="u301_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>
      </div>

      <!-- Recipe panel (Group) -->
      <div id="u302" class="ax_default" data-label="Recipe panel" data-left="105" data-top="312" data-width="1156" data-height="738">

        <!-- Unnamed (Rectangle) -->
        <div id="u303" class="ax_default box_1">
          <div id="u303_div" class=""></div>
          <div id="u303_text" class="text " style="display:none; visibility: hidden">
            <p></p>
          </div>
        </div>
      </div>

      <!-- Unnamed (Image) -->
      <div id="u304" class="ax_default image">
        <img id="u304_img" class="img " src="images/profile_page/u304.png"/>
        <div id="u304_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

      <!-- Unnamed (Rectangle) -->
      <div id="u305" class="ax_default box_1">
        
        <div id="u305_text" class="text " style="display:none; visibility: hidden">
          <p></p>
        </div>
      </div>

      <!-- Unnamed (Text Field) -->
      <div id="u306" class="ax_default text_field">
        <div id="u306_div" class=""></div>
        <input id="u306_input" type="text" value="FAVOURITE RECIPES" class="u306_input"/>
      </div>
      <div id="recipesBase" style="position: absolute; left: 160px; top: 413px;">
          
      </div>
      <div id="template" style=" width: 750px;height: 250px;  display: none;  background: inherit;
      background-color: rgba(255, 255, 255, 1);
      box-sizing: border-box;
      border-width: 2px;
      border-style: solid;
      border-color: rgba(237, 105, 64, 1);
      border-radius: 5px;">
      <div style="display: inline-block;width: 430px;padding: 20px 28px;float: left;">
        <div  style="cursor: pointer; 
        font-weight: 700;
        font-style: italic;
        font-size: 24px;
        color: #40C0E7;">
          <div id="" class="" tabindex="0"></div>
          <div id="" class="text recipesName">
            <p style="display: inline-block;margin-right: 10px;float: left;"><span name="recipesName">NAME OF DISH</span></p><img id="" class="img favouriteRecipes" style="width: 30px;height: 31px;" src="images/recipe_details_page/heart__u195.png"> 
            <div>
              <span style="font-weight: 700; font-style: normal; font-size: 16px;float: left;color: #000;margin-right: 10px;">Ingredients:</span>
              <textarea name="ingredients" disabled="true" style="width: 320px;resize: none;
              height: 85px;
              padding: 2px 2px 2px 2px;
              font-family: 'Arial', sans-serif;
              font-weight: 400;
              font-style: normal;
              font-size: 13px;
              letter-spacing: normal;
              color: #000000;
              vertical-align: none;
              text-align: left;
              text-transform: none;
              background-color: transparent;"></textarea>
            </div>
            <div>
              <span style="font-weight: 700; font-style: normal; font-size: 16px;color: #000;margin-right: 10px;">Preparation time:</span>
              <input class="message_input" name="timePreparation" disabled="true"/>
            </div>
            <div>
              <span style="font-weight: 700; font-style: normal; font-size: 16px;color: #000;margin-right: 10px;">Serves:</span>
              <input class="message_input" name="serves" disabled="true"/>
            </div>
          </div>
        </div>
      </div>
      <div style="display: inline-block;width: 250px;padding: 20px 2px;">
        <img id="" style="width: 225px;height: 201px;" class="img recipesImage" src="images/search_page/sp_picture_u224.svg">
      </div>

      
    </div>  
    </div>
    <script src="resources/scripts/axure/ios.js"></script>
    <script src="./resources/layui/layui.js"></script>
    <script src="./resources/scripts/analysisParam.js"></script>
    <script src="./resources/jquery.cookie.js"></script>
    <script>
      function dataToDom(list,loveList){
        $("#recipesBase").empty();
        console.log(loveList.join(""));
        console.log(list);
        let i =0;
        for(j = 0; j < list.length; j++) {
          let recipes = list[j];
          console.log(recipes.id);
            console.log(loveList.indexOf(recipes.id))
          if(loveList!=undefined && loveList.join("").indexOf(recipes.id)>-1){
            i++;
            let dom = $("#template").clone(true);
            dom.removeAttr("id");
            dom.css("display","block");
            $("#recipesBase").append(dom).append("<br/>");
            $("[name='recipesName']",dom).html(recipes.name);
            $(".recipesName",dom).attr("recipesId",recipes.id);
            $(".recipesImage",dom).attr("src",recipes.imageSrc);
            $("[name='recipesDetailDescribe']",dom).val(recipes.recipesDetailDescribe);
            $("[name='ingredients']",dom).val(recipes.ingredients);
            $("[name='timePreparation']",dom).val(recipes.timePreparation);
            $("[name='serves']",dom).val(recipes.serves);
            
            
            $(".favouriteRecipes",dom).attr("islike","1");
            $(".favouriteRecipes",dom).attr("src","images/recipe_details_page/heart_solid_red.png");
            }
            
          }
          $("#u303_div").css("height",(380+i*260)+'px')
      }
      $(function(){
        $("#recipesBase").empty();
        var authStr = $.cookie('authStr');
        console.log(authStr);
        var loveListStr = authStr.split(":")[2];
        var loveList = loveListStr?loveListStr.split("-"):[];
        console.log(loveList);
        dataToDom(recipesDataList,loveList)
        var username = authStr.split(":")[0];
        $("#u299_input").val(username);
        $("#signOut").click(function(){
          $.cookie('authStr','');
        })
      })
    </script>
  </body>
</html>
